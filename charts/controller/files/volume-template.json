{% if type == 'nfs' %}
{
  "spec": {
    "capacity": {
      "storage": "65535Gi"
    },
    "accessModes": [
      "ReadWriteMany"
    ],
    "claimRef": {
      "namespace": "{{namespace}}",
      "name": "{{volume_claim_name}}"
    },
    "nfs": {
      "server": "{{server}}",
      "path": "{{path}}"
    },
    "mountOptions": [
      "nfsvers=4.2"
    ]
  }
}
{% elif type == 'oss' %}
{
  "spec": {
    "capacity": {
      "storage": "65535Gi"
    },
    "accessModes": [
      "ReadWriteMany"
    ],
    "storageClassName": "",
    "claimRef": {
      "namespace": "{{namespace}}",
      "name": "{{volume_claim_name}}"
    },
    "mountOptions": [
      "allow-delete",
      {% if path_style %}
      "force-path-style",
      {% endif %}
      "aws-access-key-id {{access_key}}",
      "aws-secret-access-key {{secret_key}}",
      "endpoint-url {{server}}"
    ],
    "csi": {
      "driver": "s3.csi.aws.com",
      "volumeHandle": "{{volume_handle}}",
      "volumeAttributes": {
        "bucketName": "{{bucket}}"
      }
    }
  }
}
{% endif %}
